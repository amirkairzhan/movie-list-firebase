{"mappings":"AAAA,MAAM,YAAY,SAAS,cAAc,CAAC;AAC1C,MAAM,gBAAgB,SAAS,cAAc,CAAC;AAC9C,MAAM,aAAa,SAAS,cAAc,CAAC;AAC3C,MAAM,qBAAqB;AAE3B,MAAM,0BAA0B,aAAa,OAAO,CAAC;AACrD,MAAM,oBAAoB,KAAK,KAAK,CAAC;AACrC,IAAI,SAAS,EAAE;AACf;AACA;AAEA,eAAe,cAAc,KAAK;IAC9B,IAAI;QACA,MAAM,MAAM,MAAM,OAAO,WAAW,IAAI,qBAAqB;YACzD,OAAO,MAAM,KAAK;YAClB,QAAQ,MAAM,MAAM;QACxB;QACA,QAAQ,GAAG,CAAC,8BAA8B,IAAI,EAAE;IACpD,EAAE,OAAO,GAAG;QACR,QAAQ,KAAK,CAAC,2BAA2B;IAC7C;AAEA,+CAA+C;AAC/C,0DAA0D;AAC9D;AAEA,eAAe;IACX,MAAM,gBAAgB,MAAM,QAAQ,WAAW,IAAI;IACnD,cAAc,OAAO,CAAC,CAAC;QACnB,OAAO,IAAI,CAAC;YACR,IAAI,KAAI,EAAE;YACV,OAAO,KAAI,IAAI,GAAG,KAAK;QAC3B;QAEA,OAAO;IACX;AAEA,0CAA0C;AAC1C,kCAAkC;AAClC,IAAI;AACR;AAEA,cAAc,gBAAgB,CAAC,SAAS;IACpC;IAEA;AACJ;AAEA,SAAS;IACL,IAAI,UAAU,KAAK,KAAK,IACpB;IAGJ,IAAI,QAAQ;QACR,OAAO,UAAU,KAAK;QACtB,QAAQ;IACZ;IAEA,OAAO,IAAI,CAAC;IAEZ;IAEA,UAAU,KAAK,GAAG;AACtB;AAEA,SAAS;IACL,WAAW,SAAS,GAAG;IAEvB,OAAO,OAAO,CAAC,CAAC,OAAO;QACnB,MAAM,aAAa,SAAS,aAAa,CAAC;QAC1C,WAAW,SAAS,GAAG;QAEvB,MAAM,cAAc,SAAS,aAAa,CAAC;QAC3C,YAAY,SAAS,GAAG;QAExB,YAAY,OAAO,GAAG;YAClB,cAAc,YAAY;QAC9B;QACA,MAAM,YAAY,SAAS,aAAa,CAAC;QACzC,UAAU,WAAW,GAAG,MAAM,KAAK;QACnC,UAAU,SAAS,GAAG;QAEtB,MAAM,eAAe,SAAS,aAAa,CAAC;QAC5C,aAAa,SAAS,GAAG;QAEzB,aAAa,gBAAgB,CAAC,SAAS;YACnC,YAAY;QAChB;QAEJ,WAAW,WAAW,CAAC;QACvB,WAAW,WAAW,CAAC;QACvB,WAAW,WAAW,CAAC;QACvB,WAAW,WAAW,CAAC;IACvB;AACJ;AAEA,SAAS,cAAc,UAAU,EAAE,WAAW;IAC1C,WAAW,SAAS,CAAC,MAAM,CAAC;IAC5B,YAAY,SAAS,CAAC,MAAM,CAAC;AACjC;AAEA,eAAe,YAAY,KAAK;IAC5B,MAAM,UAAU,IAAI,IAAI,UAAU;IAElC,OAAO,MAAM,CAAC,OAAM;IACpB;IACA;AACJ","sources":["src/index.js"],"sourcesContent":["const inputNode = document.getElementById('inputMovie');\r\nconst addButtonNode = document.getElementById('addMovieButton');\r\nconst moviesList = document.getElementById('moviesList');\r\nconst MOVIES_STORAGE_KEY = 'movies';\r\n\r\nconst moviesFromStorageString = localStorage.getItem(MOVIES_STORAGE_KEY);\r\nconst moviesFromStorage = JSON.parse(moviesFromStorageString);\r\nlet movies = [];\r\nupdateStorage();\r\nrender();\r\n\r\nasync function saveToStorage(movie) {\r\n    try {\r\n        const ref = await addDoc(collection(db, MOVIES_STORAGE_KEY), {\r\n            title: movie.title,\r\n            status: movie.status\r\n        });\r\n        console.log(\"Document written with ID: \", ref.id);\r\n    } catch (e) {\r\n        console.error(\"Error adding document: \", e);\r\n    }\r\n\r\n    // const moviesString = JSON.stringify(movies);\r\n    // localStorage.setItem(MOVIES_STORAGE_KEY, moviesString);\r\n}\r\n\r\nasync function updateStorage() {\r\n    const querySnapshot = await getDocs(collection(db, MOVIES_STORAGE_KEY));\r\n    querySnapshot.forEach((doc) => {\r\n        movies.push({\r\n            id: doc.id,\r\n            title: doc.data().title\r\n        })\r\n\r\n        return movies;\r\n    })\r\n\r\n    // if (Array.isArray(moviesFromStorage)) {\r\n    //     movies = moviesFromStorage;\r\n    // }\r\n}\r\n\r\naddButtonNode.addEventListener('click', function () {\r\n    getMovieFromUser();\r\n\r\n    render();\r\n});\r\n\r\nfunction getMovieFromUser() {\r\n    if (inputNode.value === '') {\r\n        return\r\n    }\r\n\r\n    let movie = {\r\n        title: inputNode.value,\r\n        status: 'active'\r\n    };\r\n\r\n    movies.push(movie);\r\n\r\n    saveToStorage();\r\n\r\n    inputNode.value = '';\r\n}\r\n\r\nfunction render() {\r\n    moviesList.innerHTML = '';\r\n\r\n    movies.forEach((movie, index) => {\r\n        const movieIndex = document.createElement('li');\r\n        movieIndex.className = 'movie';\r\n        \r\n        const viewedMovie = document.createElement('div');\r\n        viewedMovie.className = 'movie__viewed';\r\n        \r\n        viewedMovie.onclick = () => {\r\n            crossOutMovie(movieIndex, viewedMovie);\r\n        }\r\n        const movieName = document.createElement('div');\r\n        movieName.textContent = movie.title;\r\n        movieName.className = 'movie__name';\r\n\r\n        const deleteButton = document.createElement('div');\r\n        deleteButton.className = 'movie__delete';\r\n       \r\n        deleteButton.addEventListener('click', () => {\r\n            deleteMovie(index);\r\n        });\r\n\r\n    movieIndex.appendChild(viewedMovie);\r\n    movieIndex.appendChild(movieName);\r\n    movieIndex.appendChild(deleteButton);  \r\n    moviesList.appendChild(movieIndex);\r\n    })\r\n}\r\n\r\nfunction crossOutMovie(movieIndex, viewedMovie) {\r\n    movieIndex.classList.toggle('end__movie');\r\n    viewedMovie.classList.toggle('end__viewed');\r\n}\r\n\r\nasync function deleteMovie(index) {\r\n    await deleteDoc(doc(db, \"cities\", \"DC\"));\r\n\r\n    movies.splice(index,1);\r\n    saveToStorage();\r\n    render();\r\n}"],"names":[],"version":3,"file":"index.579125c3.js.map","sourceRoot":"/__parcel_source_root/"}